<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Code - Lazy Graphics - 札記</title>
<meta name=description content='為了方便繪圖測試，把sdl 3給加一層包裝，懶人專用…
使用例…
#include <stdlib.h>
#define LAZY_GRAPHIC_IMPLEMENTATION
#include "lazygraphic.h"
#include <math.h>
#include <time.h>

int main(int argc, char* argv[])
{
    RGBA bkgColor = { .color = 0xFF181818 };
    RGBA cirColor = { .color = 0xFF18D818 };
    lazyGr.Init(800, 600, "LAZY !!");
    srand(time(NULL));
    while (!lazyGr.Done()) {
        lazyGr.Clear(bkgColor);
        for (int i = 0; i < 50; i++) {
            int rx = rand() % 400;
            int ry = rand() % 300;
            int rr = rand() % 200;
            cirColor.color = rand() | 0xFF000000;
            lazyGr.Disk(400 - rr/2 + rx/2, 300 - rr/2 + ry/2 , rr, cirColor);
        }
        lazyGr.Update();
        lazyGr.Delay(16);
    }
    lazyGr.Fini();
    return 0;
}
'><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"SoaB","url":"https:\/\/soab.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/soab.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/soab.github.io\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/soab.github.io\/posts\/2025-03-12\/","name":"Code lazy graphics"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"SoaB"},"headline":"Code - Lazy Graphics","description":"為了方便繪圖測試，把sdl 3給加一層包裝，懶人專用… 使用例…\n#include \u0026lt;stdlib.h\u0026gt; #define LAZY_GRAPHIC_IMPLEMENTATION #include \u0026#34;lazygraphic.h\u0026#34; #include \u0026lt;math.h\u0026gt; #include \u0026lt;time.h\u0026gt; int main(int argc, char* argv[]) { RGBA bkgColor = { .color = 0xFF181818 }; RGBA cirColor = { .color = 0xFF18D818 }; lazyGr.Init(800, 600, \u0026#34;LAZY !!\u0026#34;); srand(time(NULL)); while (!lazyGr.Done()) { lazyGr.Clear(bkgColor); for (int i = 0; i \u0026lt; 50; i\u002b\u002b) { int rx = rand() % 400; int ry = rand() % 300; int rr = rand() % 200; cirColor.color = rand() | 0xFF000000; lazyGr.Disk(400 - rr\/2 \u002b rx\/2, 300 - rr\/2 \u002b ry\/2 , rr, cirColor); } lazyGr.Update(); lazyGr.Delay(16); } lazyGr.Fini(); return 0; } ","inLanguage":"en","wordCount":2192,"datePublished":"2025-03-12T12:58:27\u002b08:00","dateModified":"2025-03-12T12:58:27\u002b08:00","image":"https:\/\/soab.github.io\/images\/avatar.png","keywords":["c, program, sdl3"],"mainEntityOfPage":"https:\/\/soab.github.io\/posts\/2025-03-12\/","publisher":{"@type":"Organization","name":"https:\/\/soab.github.io\/","logo":{"@type":"ImageObject","url":"https:\/\/soab.github.io\/images\/avatar.png","height":60,"width":60}}}</script><meta property="og:title" content="Code - Lazy Graphics"><meta property="og:description" content='為了方便繪圖測試，把sdl 3給加一層包裝，懶人專用…
使用例…
#include <stdlib.h>
#define LAZY_GRAPHIC_IMPLEMENTATION
#include "lazygraphic.h"
#include <math.h>
#include <time.h>

int main(int argc, char* argv[])
{
    RGBA bkgColor = { .color = 0xFF181818 };
    RGBA cirColor = { .color = 0xFF18D818 };
    lazyGr.Init(800, 600, "LAZY !!");
    srand(time(NULL));
    while (!lazyGr.Done()) {
        lazyGr.Clear(bkgColor);
        for (int i = 0; i < 50; i++) {
            int rx = rand() % 400;
            int ry = rand() % 300;
            int rr = rand() % 200;
            cirColor.color = rand() | 0xFF000000;
            lazyGr.Disk(400 - rr/2 + rx/2, 300 - rr/2 + ry/2 , rr, cirColor);
        }
        lazyGr.Update();
        lazyGr.Delay(16);
    }
    lazyGr.Fini();
    return 0;
}
'><meta property="og:image" content="https://soab.github.io/images/avatar.png"><meta property="og:url" content="https://soab.github.io/posts/2025-03-12/"><meta property="og:type" content="website"><meta property="og:site_name" content="SoaB"><meta name=twitter:title content="Code - Lazy Graphics"><meta name=twitter:description content='為了方便繪圖測試，把sdl 3給加一層包裝，懶人專用…
使用例…
#include <stdlib.h>
#define LAZY_GRAPHIC_IMPLEMENTATION
#include "lazygraphic.h"
#include <math.h>
#include <time.h>

int main(int argc, char …'><meta name=twitter:image content="https://soab.github.io/images/avatar.png"><meta name=twitter:card content="summary_large_image"><link href=https://soab.github.io/img/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.146.5"><link rel=alternate href=https://soab.github.io/index.xml type=application/rss+xml title=SoaB><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.6.0/css/all.css integrity=sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><link rel=stylesheet href=https://soab.github.io/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://soab.github.io/css/highlight.min.css><link rel=stylesheet href=https://soab.github.io/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://soab.github.io/>SoaB</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Blog href=/>Blog</a></li><li><a title=Archives href=/archives/>Archives</a></li><li><a title=About href=/page/about/>About</a></li><li><a title=Tags href=/tags>Tags</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title=SoaB href=https://soab.github.io/><img class=avatar-img src=https://soab.github.io/images/avatar.png alt=SoaB></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>Code - Lazy Graphics</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on March 12, 2025
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;11&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;2192&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;SoaB</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>為了方便繪圖測試，把sdl 3給加一層包裝，懶人專用…
使用例…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdlib.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define LAZY_GRAPHIC_IMPLEMENTATION
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;lazygraphic.h&#34;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;math.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;time.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> argv[])
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    RGBA bkgColor <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF181818</span> };
</span></span><span style=display:flex><span>    RGBA cirColor <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF18D818</span> };
</span></span><span style=display:flex><span>    lazyGr.<span style=color:#a6e22e>Init</span>(<span style=color:#ae81ff>800</span>, <span style=color:#ae81ff>600</span>, <span style=color:#e6db74>&#34;LAZY !!&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>srand</span>(<span style=color:#a6e22e>time</span>(NULL));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>lazyGr.<span style=color:#a6e22e>Done</span>()) {
</span></span><span style=display:flex><span>        lazyGr.<span style=color:#a6e22e>Clear</span>(bkgColor);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>50</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> rx <span style=color:#f92672>=</span> <span style=color:#a6e22e>rand</span>() <span style=color:#f92672>%</span> <span style=color:#ae81ff>400</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> ry <span style=color:#f92672>=</span> <span style=color:#a6e22e>rand</span>() <span style=color:#f92672>%</span> <span style=color:#ae81ff>300</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> rr <span style=color:#f92672>=</span> <span style=color:#a6e22e>rand</span>() <span style=color:#f92672>%</span> <span style=color:#ae81ff>200</span>;
</span></span><span style=display:flex><span>            cirColor.color <span style=color:#f92672>=</span> <span style=color:#a6e22e>rand</span>() <span style=color:#f92672>|</span> <span style=color:#ae81ff>0xFF000000</span>;
</span></span><span style=display:flex><span>            lazyGr.<span style=color:#a6e22e>Disk</span>(<span style=color:#ae81ff>400</span> <span style=color:#f92672>-</span> rr<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> rx<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>300</span> <span style=color:#f92672>-</span> rr<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> ry<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span> , rr, cirColor);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        lazyGr.<span style=color:#a6e22e>Update</span>();
</span></span><span style=display:flex><span>        lazyGr.<span style=color:#a6e22e>Delay</span>(<span style=color:#ae81ff>16</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    lazyGr.<span style=color:#a6e22e>Fini</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#ifndef __LAZY_GRAPHIC_H__
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define __LAZY_GRAPHIC_H__
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;SDL3\SDL.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;SDL3\SDL_main.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdbool.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdint.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdlib.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 全局變量定義
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>union</span> {
</span></span><span style=display:flex><span>        SDL_Color c;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>uint32_t</span> color;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>} RGBA;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 預定義顏色常量，使用 uint32_t 格式表示顏色，包含 Alpha 通道 (0xFF)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Black     <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF000000</span> }; <span style=color:#75715e>// 黑色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Red       <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFFFF0000</span> }; <span style=color:#75715e>// 紅色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Green     <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF00FF00</span> }; <span style=color:#75715e>// 綠色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Blue      <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF0000FF</span> }; <span style=color:#75715e>// 藍色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Cyan      <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF00FFFF</span> }; <span style=color:#75715e>// 青色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Magenta   <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFFFF00FF</span> }; <span style=color:#75715e>// 洋紅色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Yellow    <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFFFFFF00</span> }; <span style=color:#75715e>// 黃色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_White     <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFFFFFFFF</span> }; <span style=color:#75715e>// 白色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Gray      <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF808080</span> }; <span style=color:#75715e>// 灰色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Grey      <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFFC0C0C0</span> }; <span style=color:#75715e>// 淺灰色 (與 Gray 類似，但更淺)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Maroon    <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF000080</span> }; <span style=color:#75715e>// 栗色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Darkgreen <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF008000</span> }; <span style=color:#75715e>// 深綠色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Navy      <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF800000</span> }; <span style=color:#75715e>// 海軍藍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Teal      <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF808000</span> }; <span style=color:#75715e>// 青色 (與 Cyan 類似，但更深)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Purple    <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF800080</span> }; <span style=color:#75715e>// 紫色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> RGBA RGB_Olive     <span style=color:#f92672>=</span> { .color <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xFF008080</span> }; <span style=color:#75715e>// 橄欖綠
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// LazyGraphic 結構體，封裝了圖形庫的實例所需的數據
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    SDL_Window<span style=color:#f92672>*</span> Window;      <span style=color:#75715e>// SDL 窗口指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    SDL_Renderer<span style=color:#f92672>*</span> Renderer;  <span style=color:#75715e>// SDL 渲染器指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    SDL_Event event;         <span style=color:#75715e>// SDL 事件結構體，用於處理事件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    RGBA SelColor;           <span style=color:#75715e>// 當前選定的繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>uint32_t</span> w;             <span style=color:#75715e>// 窗口寬度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>uint32_t</span> h;             <span style=color:#75715e>// 窗口高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>bool</span><span style=color:#f92672>*</span> inkeys;      <span style=color:#75715e>// 鍵盤按鍵狀態數組指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> mouseX;            <span style=color:#75715e>// 鼠標 X 坐標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> mouseY;            <span style=color:#75715e>// 鼠標 Y 坐標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> LMB;                <span style=color:#75715e>// 鼠標左鍵狀態 (true: 按下, false: 鬆開)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> RMB;                <span style=color:#75715e>// 鼠標右鍵狀態 (true: 按下, false: 鬆開)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} LazyGraphic;
</span></span><span style=display:flex><span><span style=color:#75715e>// LazyGraphic 的實例 (靜態全局變量，在實現文件中定義)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// LazyFnTable 結構體，包含了圖形庫提供的函數指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>KeyDown)(<span style=color:#66d9ef>int</span> key);                     <span style=color:#75715e>// 檢查按鍵是否被按下
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>Init)(<span style=color:#66d9ef>int</span> w, <span style=color:#66d9ef>int</span> h, <span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> title);       <span style=color:#75715e>// 初始化圖形庫和窗口
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> (<span style=color:#f92672>*</span>ModeNone)(<span style=color:#66d9ef>void</span>);                         <span style=color:#75715e>// 設置混合模式為 None (不混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> (<span style=color:#f92672>*</span>ModeBlend)(<span style=color:#66d9ef>void</span>);                        <span style=color:#75715e>// 設置混合模式為 Blend (Alpha 混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> (<span style=color:#f92672>*</span>ModeAdd)(<span style=color:#66d9ef>void</span>);                          <span style=color:#75715e>// 設置混合模式為 Add (加法混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> (<span style=color:#f92672>*</span>ModeMod)(<span style=color:#66d9ef>void</span>);                          <span style=color:#75715e>// 設置混合模式為 Mod (調製混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Update)(<span style=color:#66d9ef>void</span>);                          <span style=color:#75715e>// 更新渲染，顯示畫面
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>ReadKeys)(<span style=color:#66d9ef>void</span>);                        <span style=color:#75715e>// 讀取鍵盤狀態
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>GetMouseState)(<span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> x, <span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> y);          <span style=color:#75715e>// 獲取鼠標狀態和坐標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>unsigned</span> <span style=color:#a6e22e>long</span> (<span style=color:#f92672>*</span>GetTicks)(<span style=color:#66d9ef>void</span>);               <span style=color:#75715e>// 獲取程序運行時間 (毫秒)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Delay)(<span style=color:#66d9ef>int</span> ms);                          <span style=color:#75715e>// 程序延遲 (毫秒)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>Done)(<span style=color:#66d9ef>void</span>);                            <span style=color:#75715e>// 檢查程序是否應該結束 (例如，按下 ESC 或關閉窗口)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Fini)(<span style=color:#66d9ef>void</span>);                            <span style=color:#75715e>// 釋放圖形庫資源
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Clear)(RGBA col);                        <span style=color:#75715e>// 使用指定顏色清空屏幕
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Point)(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, RGBA col);          <span style=color:#75715e>// 繪製一個點
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>Line)(<span style=color:#66d9ef>int</span> x1, <span style=color:#66d9ef>int</span> y1, <span style=color:#66d9ef>int</span> x2, <span style=color:#66d9ef>int</span> y2, RGBA col); <span style=color:#75715e>// 繪製一條線段
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>Circle)(<span style=color:#66d9ef>int</span> xc, <span style=color:#66d9ef>int</span> yc, <span style=color:#66d9ef>int</span> radius, RGBA col); <span style=color:#75715e>// 繪製一個圓環
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>Disk)(<span style=color:#66d9ef>int</span> xc, <span style=color:#66d9ef>int</span> yc, <span style=color:#66d9ef>int</span> radius, RGBA col);   <span style=color:#75715e>// 繪製一個實心圓
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>Rect)(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> w, <span style=color:#66d9ef>int</span> h, RGBA col);   <span style=color:#75715e>// 繪製一個矩形框
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> (<span style=color:#f92672>*</span>FillRect)(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> w, <span style=color:#66d9ef>int</span> h, RGBA col); <span style=color:#75715e>// 繪製一個實心矩形
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} LazyFnTable;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// SB_Image 結構體，用於表示和操作簡單位圖圖像
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> SB_Image {
</span></span><span style=display:flex><span>    SDL_Texture<span style=color:#f92672>*</span> Tex;                          <span style=color:#75715e>// SDL 紋理指針，存儲圖像數據
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> w, h;                                  <span style=color:#75715e>// 圖像寬度和高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Boundary)(<span style=color:#66d9ef>struct</span> SB_Image<span style=color:#f92672>*</span> self, <span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> w, <span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> h); <span style=color:#75715e>// 獲取圖像邊界 (寬度和高度)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Draw)(<span style=color:#66d9ef>struct</span> SB_Image<span style=color:#f92672>*</span> simg, <span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>float</span> angle); <span style=color:#75715e>// 繪製圖像到屏幕
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>Destroy)(<span style=color:#66d9ef>struct</span> SB_Image<span style=color:#f92672>*</span> self);                     <span style=color:#75715e>// 銷毀圖像資源
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} SB_Image;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 創建新的 SB_Image 對象，從文件中加載圖像
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>SB_Image<span style=color:#f92672>*</span> <span style=color:#a6e22e>NewSBImage</span>(<span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> filename);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef LAZY_GRAPHIC_IMPLEMENTATION
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 靜態全局 LazyGraphic 實例，用於封裝圖形庫狀態
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> LazyGraphic lg <span style=color:#f92672>=</span> { <span style=color:#ae81ff>0</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// _Key_Down 函數，檢查指定按鍵是否被按下
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_Key_Down</span>(<span style=color:#66d9ef>int</span> key)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 如果鍵盤狀態未初始化，則返回 false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>lg.inkeys)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 檢查指定按鍵的狀態，如果非 0 則表示按下
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> (lg.inkeys[key] <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>    _Init 函數，初始化圖形庫和窗口
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_Init</span>(<span style=color:#66d9ef>int</span> w, <span style=color:#66d9ef>int</span> h, <span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> title)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 初始化標誌，默認初始化成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> bRet <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 設置 LazyGraphic 實例的寬度和高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    lg.w <span style=color:#f92672>=</span> w;
</span></span><span style=display:flex><span>    lg.h <span style=color:#f92672>=</span> h;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 通知 SDL 主程序已準備好
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>SDL_SetMainReady</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 初始化 SDL 視頻子系統
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>SDL_Init</span>(SDL_INIT_VIDEO)) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;SDL could not initialize! SDL_Error: %s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>SDL_GetError</span>());
</span></span><span style=display:flex><span>        bRet <span style=color:#f92672>=</span> false; <span style=color:#75715e>// 初始化失敗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> bRet;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 創建 SDL 窗口
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    lg.Window <span style=color:#f92672>=</span> <span style=color:#a6e22e>SDL_CreateWindow</span>(title, w, h, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (lg.Window <span style=color:#f92672>==</span> NULL) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Window could not be created! SDL_Error: %s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>SDL_GetError</span>());
</span></span><span style=display:flex><span>        bRet <span style=color:#f92672>=</span> false; <span style=color:#75715e>// 窗口創建失敗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> bRet;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 創建 SDL 渲染器，用於在窗口上繪圖，使用硬件加速
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    lg.Renderer <span style=color:#f92672>=</span> <span style=color:#a6e22e>SDL_CreateRenderer</span>(lg.Window, NULL);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (lg.Renderer <span style=color:#f92672>==</span> NULL) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Renderer could not be created! SDL_Error: %s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>SDL_GetError</span>());
</span></span><span style=display:flex><span>        bRet <span style=color:#f92672>=</span> false; <span style=color:#75715e>// 渲染器創建失敗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> bRet;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> bRet; <span style=color:#75715e>// 初始化成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Mode_None 函數，設置渲染器混合模式為 None (不混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>_Mode_None</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>SDL_SetRenderDrawBlendMode</span>(lg.Renderer, SDL_BLENDMODE_NONE);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Mode_Blend 函數，設置渲染器混合模式為 Blend (Alpha 混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>_Mode_Blend</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>SDL_SetRenderDrawBlendMode</span>(lg.Renderer, SDL_BLENDMODE_BLEND);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Mode_Add 函數，設置渲染器混合模式為 Add (加法混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>_Mode_Add</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>SDL_SetRenderDrawBlendMode</span>(lg.Renderer, SDL_BLENDMODE_ADD);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Mode_Mod 函數，設置渲染器混合模式為 Mod (調製混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>_Mode_Mod</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>SDL_SetRenderDrawBlendMode</span>(lg.Renderer, SDL_BLENDMODE_MOD);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Update 函數，更新渲染，顯示當前幀畫面
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_Update</span>() { <span style=color:#a6e22e>SDL_RenderPresent</span>(lg.Renderer); }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>///////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// sdl input function ...
</span></span></span><span style=display:flex><span><span style=color:#75715e>///////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _ReadKeys 函數，讀取當前鍵盤狀態
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_ReadKeys</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_PumpEvents</span>(); <span style=color:#75715e>// 處理事件隊列，更新鍵盤和鼠標狀態
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    lg.inkeys <span style=color:#f92672>=</span> <span style=color:#a6e22e>SDL_GetKeyboardState</span>(NULL); <span style=color:#75715e>// 獲取當前鍵盤按鍵狀態數組
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _GetMouseState 函數，獲取鼠標狀態和坐標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_GetMouseState</span>(<span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> x, <span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> y)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>uint8_t</span> mouseState <span style=color:#f92672>=</span> <span style=color:#a6e22e>SDL_GetMouseState</span>(<span style=color:#f92672>&amp;</span>lg.mouseX, <span style=color:#f92672>&amp;</span>lg.mouseY); <span style=color:#75715e>// 獲取鼠標坐標和按鍵狀態
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>*</span>x <span style=color:#f92672>=</span> (<span style=color:#66d9ef>int</span>)lg.mouseX; <span style=color:#75715e>// 存儲鼠標 X 坐標到指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>*</span>y <span style=color:#f92672>=</span> (<span style=color:#66d9ef>int</span>)lg.mouseY; <span style=color:#75715e>// 存儲鼠標 Y 坐標到指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 檢查鼠標左鍵是否按下 (SDL_BUTTON_LMASK == 1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (mouseState <span style=color:#f92672>&amp;</span> SDL_BUTTON_LMASK)
</span></span><span style=display:flex><span>        lg.LMB <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>        lg.LMB <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 檢查鼠標右鍵是否按下 (SDL_BUTTON_RMASK == 4)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (mouseState <span style=color:#f92672>&amp;</span> SDL_BUTTON_RMASK)
</span></span><span style=display:flex><span>        lg.RMB <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>        lg.RMB <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// _GetTicks 函數，返回程序啟動以來經過的毫秒數
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>long</span> <span style=color:#a6e22e>_GetTicks</span>() { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>SDL_GetTicks</span>(); }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Delay 函數，程序延遲指定毫秒數
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_Delay</span>(<span style=color:#66d9ef>int</span> ms) { <span style=color:#a6e22e>SDL_Delay</span>(ms); }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Done 函數，檢查程序是否應該結束 (按下 ESC 鍵或窗口關閉事件)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_Done</span>(<span style=color:#66d9ef>void</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 檢查是否有待處理的 SDL 事件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>SDL_PollEvent</span>(<span style=color:#f92672>&amp;</span>lg.event)) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 如果事件類型為 SDL_EVENT_QUIT (窗口關閉事件)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (lg.event.type <span style=color:#f92672>==</span> SDL_EVENT_QUIT)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> true; <span style=color:#75715e>// 返回 true，表示程序應該結束
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_ReadKeys</span>(); <span style=color:#75715e>// 讀取鍵盤狀態
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 檢查 ESC 鍵是否被按下 (SDL_SCANCODE_ESCAPE)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (lg.inkeys[SDL_SCANCODE_ESCAPE])
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> true; <span style=color:#75715e>// 返回 true，表示程序應該結束
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> false; <span style=color:#75715e>// 返回 false，表示程序繼續運行
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Fini 函數，釋放圖形庫資源
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_Fini</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_DestroyRenderer</span>(lg.Renderer); <span style=color:#75715e>// 銷毀渲染器
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    lg.Renderer <span style=color:#f92672>=</span> NULL;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_DestroyWindow</span>(lg.Window);   <span style=color:#75715e>// 銷毀窗口
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    lg.Window <span style=color:#f92672>=</span> NULL;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_Quit</span>();                     <span style=color:#75715e>// 退出 SDL 子系統
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Clear 函數，使用指定顏色清空屏幕
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_Clear</span>(RGBA col)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 檢查是否需要設置新的繪圖顏色，避免重複設置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (col.color <span style=color:#f92672>!=</span> lg.SelColor.color) {
</span></span><span style=display:flex><span>        lg.SelColor.color <span style=color:#f92672>=</span> col.color; <span style=color:#75715e>// 更新當前選定顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_SetRenderDrawColor</span>(lg.Renderer, col.c.r, col.c.g, col.c.b, col.c.a); <span style=color:#75715e>// 設置渲染器繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_RenderClear</span>(lg.Renderer); <span style=color:#75715e>// 使用當前繪圖顏色清空渲染目標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Point 函數，繪製一個點
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_Point</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, RGBA col)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 檢查是否需要設置新的繪圖顏色，避免重複設置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (col.color <span style=color:#f92672>!=</span> lg.SelColor.color) {
</span></span><span style=display:flex><span>        lg.SelColor.color <span style=color:#f92672>=</span> col.color; <span style=color:#75715e>// 更新當前選定顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_SetRenderDrawColor</span>(lg.Renderer, col.c.r, col.c.g, col.c.b, col.c.a); <span style=color:#75715e>// 設置渲染器繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, x, y); <span style=color:#75715e>// 繪製一個點
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Line 函數，繪製一條線段
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_Line</span>(<span style=color:#66d9ef>int</span> x1, <span style=color:#66d9ef>int</span> y1, <span style=color:#66d9ef>int</span> x2, <span style=color:#66d9ef>int</span> y2, RGBA col)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 邊界檢查：確保線段端點坐標在有效範圍內
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (x1 <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x1 <span style=color:#f92672>&gt;=</span> lg.w <span style=color:#f92672>||</span> x2 <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x2 <span style=color:#f92672>&gt;=</span> lg.w <span style=color:#f92672>||</span> y1 <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y1 <span style=color:#f92672>&gt;=</span> lg.h <span style=color:#f92672>||</span> y2 <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y2 <span style=color:#f92672>&gt;=</span> lg.h)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false; <span style=color:#75715e>// 坐標超出屏幕範圍，繪製失敗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 檢查是否需要設置新的繪圖顏色，避免重複設置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (col.color <span style=color:#f92672>!=</span> lg.SelColor.color) {
</span></span><span style=display:flex><span>        lg.SelColor.color <span style=color:#f92672>=</span> col.color; <span style=color:#75715e>// 更新當前選定顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_SetRenderDrawColor</span>(lg.Renderer, col.c.r, col.c.g, col.c.b, col.c.a); <span style=color:#75715e>// 設置渲染器繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_RenderLine</span>(lg.Renderer, x1, y1, x2, y2); <span style=color:#75715e>// 繪製線段
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> true; <span style=color:#75715e>// 繪製成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Circle 函數，使用 Bresenham 算法繪製圓環
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_Circle</span>(<span style=color:#66d9ef>int</span> xc, <span style=color:#66d9ef>int</span> yc, <span style=color:#66d9ef>int</span> radius, RGBA col)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 邊界檢查：確保圓環在屏幕範圍內
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (xc <span style=color:#f92672>-</span> radius <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> xc <span style=color:#f92672>+</span> radius <span style=color:#f92672>&gt;=</span> lg.w <span style=color:#f92672>||</span> yc <span style=color:#f92672>-</span> radius <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> yc <span style=color:#f92672>+</span> radius <span style=color:#f92672>&gt;=</span> lg.h)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false; <span style=color:#75715e>// 圓環超出屏幕範圍，繪製失敗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 檢查是否需要設置新的繪圖顏色，避免重複設置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (col.color <span style=color:#f92672>!=</span> lg.SelColor.color) {
</span></span><span style=display:flex><span>        lg.SelColor.color <span style=color:#f92672>=</span> col.color; <span style=color:#75715e>// 更新當前選定顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_SetRenderDrawColor</span>(lg.Renderer, col.c.r, col.c.g, col.c.b, col.c.a); <span style=color:#75715e>// 設置渲染器繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> radius;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>-</span> (radius <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>1</span>); <span style=color:#75715e>// Bresenham 算法的初始決策參數
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> a, b, c, d, e, f, g, h;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>&lt;=</span> y) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 利用圓的八分對稱性，一次計算八個點
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        a <span style=color:#f92672>=</span> xc <span style=color:#f92672>+</span> x; <span style=color:#75715e>// 8-way symmetry calculation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        b <span style=color:#f92672>=</span> yc <span style=color:#f92672>+</span> y;
</span></span><span style=display:flex><span>        c <span style=color:#f92672>=</span> xc <span style=color:#f92672>-</span> x;
</span></span><span style=display:flex><span>        d <span style=color:#f92672>=</span> yc <span style=color:#f92672>-</span> y;
</span></span><span style=display:flex><span>        e <span style=color:#f92672>=</span> xc <span style=color:#f92672>+</span> y;
</span></span><span style=display:flex><span>        f <span style=color:#f92672>=</span> yc <span style=color:#f92672>+</span> x;
</span></span><span style=display:flex><span>        g <span style=color:#f92672>=</span> xc <span style=color:#f92672>-</span> y;
</span></span><span style=display:flex><span>        h <span style=color:#f92672>=</span> yc <span style=color:#f92672>-</span> x;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, a, b); <span style=color:#75715e>// 繪製點 (x, y)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, c, d); <span style=color:#75715e>// 繪製點 (-x, -y)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, e, f); <span style=color:#75715e>// 繪製點 (y, x)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, g, f); <span style=color:#75715e>// 繪製點 (-y, x)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) { <span style=color:#75715e>// 避免重複繪製在同一位置的點
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, a, d); <span style=color:#75715e>// 繪製點 (x, -y)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, c, b); <span style=color:#75715e>// 繪製點 (-x, y)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, e, h); <span style=color:#75715e>// 繪製點 (y, -x)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>SDL_RenderPoint</span>(lg.Renderer, g, h); <span style=color:#75715e>// 繪製點 (-y, -x)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (p <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            p <span style=color:#f92672>+=</span> (x<span style=color:#f92672>++</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>6</span>; <span style=color:#75715e>// 決策參數小於 0，選擇上方像素
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            p <span style=color:#f92672>+=</span> ((x<span style=color:#f92672>++</span> <span style=color:#f92672>-</span> y<span style=color:#f92672>--</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>; <span style=color:#75715e>// 決策參數大於等於 0，選擇右上方像素
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true; <span style=color:#75715e>// 繪製成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>///////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _Disk 函數，使用填充的 Bresenham 算法繪製實心圓
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_Disk</span>(<span style=color:#66d9ef>int</span> xc, <span style=color:#66d9ef>int</span> yc, <span style=color:#66d9ef>int</span> radius, RGBA col)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 邊界檢查：確保圓在屏幕範圍內
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (xc <span style=color:#f92672>+</span> radius <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> xc <span style=color:#f92672>-</span> radius <span style=color:#f92672>&gt;=</span> lg.w <span style=color:#f92672>||</span> yc <span style=color:#f92672>+</span> radius <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> yc <span style=color:#f92672>-</span> radius <span style=color:#f92672>&gt;=</span> lg.h)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false; <span style=color:#75715e>// 圓超出屏幕範圍，繪製失敗 (優化：提前判斷全部像素是否超出屏幕)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 檢查是否需要設置新的繪圖顏色，避免重複設置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (col.color <span style=color:#f92672>!=</span> lg.SelColor.color) {
</span></span><span style=display:flex><span>        lg.SelColor.color <span style=color:#f92672>=</span> col.color; <span style=color:#75715e>// 更新當前選定顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_SetRenderDrawColor</span>(lg.Renderer, col.c.r, col.c.g, col.c.b, col.c.a); <span style=color:#75715e>// 設置渲染器繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> radius;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>-</span> (radius <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>1</span>); <span style=color:#75715e>// Bresenham 算法的初始決策參數
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> a, b, c, d, e, f, g, h;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> pb <span style=color:#f92672>=</span> yc <span style=color:#f92672>+</span> radius <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#75715e>// 前一個 y 坐標值，用於優化水平線繪製，初始值設置為範圍外
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        pd <span style=color:#f92672>=</span> yc <span style=color:#f92672>+</span> radius <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#75715e>// 前一個 -y 坐標值，初始值設置為範圍外
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>&lt;=</span> y) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 計算八分對稱點
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        a <span style=color:#f92672>=</span> xc <span style=color:#f92672>+</span> x;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>=</span> yc <span style=color:#f92672>+</span> y;
</span></span><span style=display:flex><span>        c <span style=color:#f92672>=</span> xc <span style=color:#f92672>-</span> x;
</span></span><span style=display:flex><span>        d <span style=color:#f92672>=</span> yc <span style=color:#f92672>-</span> y;
</span></span><span style=display:flex><span>        e <span style=color:#f92672>=</span> xc <span style=color:#f92672>+</span> y;
</span></span><span style=display:flex><span>        f <span style=color:#f92672>=</span> yc <span style=color:#f92672>+</span> x;
</span></span><span style=display:flex><span>        g <span style=color:#f92672>=</span> xc <span style=color:#f92672>-</span> y;
</span></span><span style=display:flex><span>        h <span style=color:#f92672>=</span> yc <span style=color:#f92672>-</span> x;
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 繪製水平線，避免重複繪製同一水平線
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>!=</span> pb)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>SDL_RenderLine</span>(lg.Renderer, c, b, a, b); <span style=color:#75715e>// 繪製水平線 (y 坐標)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (d <span style=color:#f92672>!=</span> pd)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>SDL_RenderLine</span>(lg.Renderer, c, d, a, d); <span style=color:#75715e>// 繪製水平線 (-y 坐標)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (f <span style=color:#f92672>!=</span> b)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>SDL_RenderLine</span>(lg.Renderer, g, f, e, f); <span style=color:#75715e>// 繪製水平線 (x 坐標)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (h <span style=color:#f92672>!=</span> d <span style=color:#f92672>&amp;&amp;</span> h <span style=color:#f92672>!=</span> f) <span style=color:#75715e>// 避免重複繪製以及與前兩條線重疊
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>SDL_RenderLine</span>(lg.Renderer, g, h, e, h); <span style=color:#75715e>// 繪製水平線 (-x 坐標)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        pb <span style=color:#f92672>=</span> b; <span style=color:#75715e>// 更新前一個 y 坐標值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        pd <span style=color:#f92672>=</span> d; <span style=color:#75715e>// 更新前一個 -y 坐標值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (p <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            p <span style=color:#f92672>+=</span> (x<span style=color:#f92672>++</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>6</span>; <span style=color:#75715e>// 決策參數小於 0，選擇上方像素
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            p <span style=color:#f92672>+=</span> ((x<span style=color:#f92672>++</span> <span style=color:#f92672>-</span> y<span style=color:#f92672>--</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>; <span style=color:#75715e>// 決策參數大於等於 0，選擇右上方像素
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true; <span style=color:#75715e>// 繪製成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// _Rect 函數，繪製矩形框
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_Rect</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> w, <span style=color:#66d9ef>int</span> h, RGBA col)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 邊界檢查：確保矩形在屏幕範圍內
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x <span style=color:#f92672>&gt;=</span> lg.w <span style=color:#f92672>||</span> x <span style=color:#f92672>+</span> w <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x <span style=color:#f92672>+</span> w <span style=color:#f92672>&gt;</span> lg.w <span style=color:#f92672>||</span> y <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y <span style=color:#f92672>&gt;=</span> lg.h <span style=color:#f92672>||</span> y <span style=color:#f92672>+</span> h <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y <span style=color:#f92672>+</span> h <span style=color:#f92672>&gt;</span> lg.h)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false; <span style=color:#75715e>// 矩形超出屏幕範圍，繪製失敗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 檢查是否需要設置新的繪圖顏色，避免重複設置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (col.color <span style=color:#f92672>!=</span> lg.SelColor.color) {
</span></span><span style=display:flex><span>        lg.SelColor.color <span style=color:#f92672>=</span> col.color; <span style=color:#75715e>// 更新當前選定顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_SetRenderDrawColor</span>(lg.Renderer, col.c.r, col.c.g, col.c.b, col.c.a); <span style=color:#75715e>// 設置渲染器繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    SDL_FRect rect;
</span></span><span style=display:flex><span>    rect.h <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)h;
</span></span><span style=display:flex><span>    rect.w <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)w;
</span></span><span style=display:flex><span>    rect.x <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)x;
</span></span><span style=display:flex><span>    rect.y <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)y;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_RenderRect</span>(lg.Renderer, <span style=color:#f92672>&amp;</span>rect); <span style=color:#75715e>// 繪製矩形框
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> true; <span style=color:#75715e>// 繪製成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// _FillRect 函數，繪製實心矩形
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_FillRect</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> w, <span style=color:#66d9ef>int</span> h, RGBA col)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 邊界檢查：確保矩形在屏幕範圍內
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>     <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x <span style=color:#f92672>&gt;=</span> lg.w <span style=color:#f92672>||</span> x <span style=color:#f92672>+</span> w <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x <span style=color:#f92672>+</span> w <span style=color:#f92672>&gt;</span> lg.w <span style=color:#f92672>||</span> y <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y <span style=color:#f92672>&gt;=</span> lg.h <span style=color:#f92672>||</span> y <span style=color:#f92672>+</span> h <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y <span style=color:#f92672>+</span> h <span style=color:#f92672>&gt;</span> lg.h)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false; <span style=color:#75715e>// 矩形超出屏幕範圍，繪製失敗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 檢查是否需要設置新的繪圖顏色，避免重複設置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (col.color <span style=color:#f92672>!=</span> lg.SelColor.color) {
</span></span><span style=display:flex><span>        lg.SelColor.color <span style=color:#f92672>=</span> col.color; <span style=color:#75715e>// 更新當前選定顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>SDL_SetRenderDrawColor</span>(lg.Renderer, col.c.r, col.c.g, col.c.b, col.c.a); <span style=color:#75715e>// 設置渲染器繪圖顏色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    SDL_FRect rect;
</span></span><span style=display:flex><span>    rect.h <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)h;
</span></span><span style=display:flex><span>    rect.w <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)w;
</span></span><span style=display:flex><span>    rect.x <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)x;
</span></span><span style=display:flex><span>    rect.y <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span>)y;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_RenderFillRect</span>(lg.Renderer, <span style=color:#f92672>&amp;</span>rect); <span style=color:#75715e>// 繪製實心矩形
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> true; <span style=color:#75715e>// 繪製成功
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// lazyGr 函數指針表，提供圖形庫 API
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>LazyFnTable lazyGr <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    .KeyDown       <span style=color:#f92672>=</span> _Key_Down,
</span></span><span style=display:flex><span>    .Init          <span style=color:#f92672>=</span> _Init,
</span></span><span style=display:flex><span>    .ModeNone      <span style=color:#f92672>=</span> _Mode_None,
</span></span><span style=display:flex><span>    .ModeBlend     <span style=color:#f92672>=</span> _Mode_Blend,
</span></span><span style=display:flex><span>    .ModeAdd       <span style=color:#f92672>=</span> _Mode_Add,
</span></span><span style=display:flex><span>    .ModeMod       <span style=color:#f92672>=</span> _Mode_Mod,
</span></span><span style=display:flex><span>    .Update        <span style=color:#f92672>=</span> _Update,
</span></span><span style=display:flex><span>    .ReadKeys      <span style=color:#f92672>=</span> _ReadKeys,
</span></span><span style=display:flex><span>    .GetMouseState <span style=color:#f92672>=</span> _GetMouseState,
</span></span><span style=display:flex><span>    .GetTicks      <span style=color:#f92672>=</span> _GetTicks,
</span></span><span style=display:flex><span>    .Delay         <span style=color:#f92672>=</span> _Delay,
</span></span><span style=display:flex><span>    .Done          <span style=color:#f92672>=</span> _Done,
</span></span><span style=display:flex><span>    .Fini          <span style=color:#f92672>=</span> _Fini,
</span></span><span style=display:flex><span>    .Clear         <span style=color:#f92672>=</span> _Clear,
</span></span><span style=display:flex><span>    .Point         <span style=color:#f92672>=</span> _Point,
</span></span><span style=display:flex><span>    .Line          <span style=color:#f92672>=</span> _Line,
</span></span><span style=display:flex><span>    .Circle        <span style=color:#f92672>=</span> _Circle,
</span></span><span style=display:flex><span>    .Disk          <span style=color:#f92672>=</span> _Disk,
</span></span><span style=display:flex><span>    .Rect          <span style=color:#f92672>=</span> _Rect,
</span></span><span style=display:flex><span>    .FillRect      <span style=color:#f92672>=</span> _FillRect,
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/////////////////////////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>SB Image 實現
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// _SB_image_destroy 函數，銷毀 SB_Image 對象，釋放紋理和內存
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_SB_image_destroy</span>(SB_Image<span style=color:#f92672>*</span> simg)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (simg <span style=color:#f92672>!=</span> NULL) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SDL_DestroyTexture</span>(simg<span style=color:#f92672>-&gt;</span>Tex); <span style=color:#75715e>// 銷毀紋理
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>free</span>(simg);                  <span style=color:#75715e>// 釋放 SB_Image 結構體內存
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        simg <span style=color:#f92672>=</span> NULL;                 <span style=color:#75715e>// 將指針置空，防止野指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// _boundary 函數，獲取 SB_Image 的寬度和高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_boundary</span>(SB_Image<span style=color:#f92672>*</span> simg, <span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> w, <span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> h)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span>w <span style=color:#f92672>=</span> simg<span style=color:#f92672>-&gt;</span>w; <span style=color:#75715e>// 返回圖像寬度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>*</span>h <span style=color:#f92672>=</span> simg<span style=color:#f92672>-&gt;</span>h; <span style=color:#75715e>// 返回圖像高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// _draw 函數，繪製 SB_Image 到屏幕上，可以指定位置和旋轉角度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>_draw</span>(SB_Image<span style=color:#f92672>*</span> simg, <span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>float</span> angle)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    SDL_FRect src <span style=color:#f92672>=</span> { <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, (<span style=color:#66d9ef>float</span>)simg<span style=color:#f92672>-&gt;</span>w, (<span style=color:#66d9ef>float</span>)simg<span style=color:#f92672>-&gt;</span>h }; <span style=color:#75715e>// 源矩形，整個圖像
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    SDL_FRect dest <span style=color:#f92672>=</span> { x <span style=color:#f92672>-</span> (<span style=color:#66d9ef>float</span>)simg<span style=color:#f92672>-&gt;</span>w <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, y <span style=color:#f92672>-</span> (<span style=color:#66d9ef>float</span>)simg<span style=color:#f92672>-&gt;</span>h <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, (<span style=color:#66d9ef>float</span>)simg<span style=color:#f92672>-&gt;</span>w, (<span style=color:#66d9ef>float</span>)simg<span style=color:#f92672>-&gt;</span>h }; <span style=color:#75715e>// 目標矩形，居中繪製
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>SDL_RenderTextureRotated</span>(lg.Renderer, simg<span style=color:#f92672>-&gt;</span>Tex, <span style=color:#f92672>&amp;</span>src, <span style=color:#f92672>&amp;</span>dest, angle, NULL,
</span></span><span style=display:flex><span>        SDL_FLIP_NONE); <span style=color:#75715e>// 旋轉並繪製紋理
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// NewSBImage 函數，創建新的 SB_Image 對象並從 BMP 文件加載圖像
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>SB_Image<span style=color:#f92672>*</span> <span style=color:#a6e22e>NewSBImage</span>(<span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> filename)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    SB_Image<span style=color:#f92672>*</span> simg <span style=color:#f92672>=</span> (SB_Image<span style=color:#f92672>*</span>)<span style=color:#a6e22e>malloc</span>(<span style=color:#66d9ef>sizeof</span>(SB_Image)); <span style=color:#75715e>// 分配 SB_Image 結構體內存
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    SDL_Surface<span style=color:#f92672>*</span> surface <span style=color:#f92672>=</span> <span style=color:#a6e22e>SDL_LoadBMP</span>(filename);          <span style=color:#75715e>// 從 BMP 文件加載表面
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>surface) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 加載失敗，釋放已分配的內存並返回 NULL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (simg <span style=color:#f92672>!=</span> NULL) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>free</span>(simg);
</span></span><span style=display:flex><span>            simg <span style=color:#f92672>=</span> NULL;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> NULL;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SDL_SetSurfaceColorKey</span>(surface, true, <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// 設置顏色鍵 (透明色)，顏色鍵為黑色 (0)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    simg<span style=color:#f92672>-&gt;</span>w <span style=color:#f92672>=</span> surface<span style=color:#f92672>-&gt;</span>w;                      <span style=color:#75715e>// 記錄圖像寬度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    simg<span style=color:#f92672>-&gt;</span>h <span style=color:#f92672>=</span> surface<span style=color:#f92672>-&gt;</span>h;                      <span style=color:#75715e>// 記錄圖像高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    simg<span style=color:#f92672>-&gt;</span>Tex <span style=color:#f92672>=</span> <span style=color:#a6e22e>SDL_CreateTextureFromSurface</span>(lg.Renderer, surface); <span style=color:#75715e>// 從表面創建紋理
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>SDL_DestroySurface</span>(surface);              <span style=color:#75715e>// 銷毀臨時表面，紋理已創建
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>SDL_SetTextureBlendMode</span>(simg<span style=color:#f92672>-&gt;</span>Tex, SDL_BLENDMODE_BLEND); <span style=color:#75715e>// 設置紋理混合模式為 Blend (Alpha 混合)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 初始化函數指針
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    simg<span style=color:#f92672>-&gt;</span>Boundary <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>_boundary;
</span></span><span style=display:flex><span>    simg<span style=color:#f92672>-&gt;</span>Draw <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>_draw;
</span></span><span style=display:flex><span>    simg<span style=color:#f92672>-&gt;</span>Destroy <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>_SB_image_destroy;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> simg; <span style=color:#75715e>// 返回新創建的 SB_Image 對象
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#endif </span><span style=color:#75715e>// header guard
</span></span></span></code></pre></div><div class=blog-tags><a href=https://soab.github.io/tags/c/>c</a>&nbsp;
<a href=https://soab.github.io/tags/program/>program</a>&nbsp;
<a href=https://soab.github.io/tags/sdl3/>sdl3</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fsoab.github.io%2fposts%2f2025-03-12%2f&amp;text=Code%20-%20Lazy%20Graphics&amp;via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsoab.github.io%2fposts%2f2025-03-12%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fsoab.github.io%2fposts%2f2025-03-12%2f&amp;title=Code%20-%20Lazy%20Graphics" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fsoab.github.io%2fposts%2f2025-03-12%2f&amp;title=Code%20-%20Lazy%20Graphics" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fsoab.github.io%2fposts%2f2025-03-12%2f&amp;title=Code%20-%20Lazy%20Graphics" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fsoab.github.io%2fposts%2f2025-03-12%2f&amp;description=Code%20-%20Lazy%20Graphics" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section><h4 class=see-also>See also</h4><ul><li><a href=/posts/2025-04-19/>Code - ECS ? Particles + arena + Quad Tree</a></li><li><a href=/posts/2025-04-15/>Code - Game Practicum 01</a></li><li><a href=/posts/2025-03-31/>Code -- Simple POKER Game</a></li><li><a href=/posts/2025-02-23/>Code - Pong Game</a></li><li><a href=/posts/2025-01-24/>Code - Line effect</a></li></ul></article><ul class="pager blog-pager"><li class=previous><a href=https://soab.github.io/posts/2025-02-23/ data-toggle=tooltip data-placement=top title="Code - Pong Game">&larr; Previous Post</a></li><li class=next><a href=https://soab.github.io/posts/2025-03-30/ data-toggle=tooltip data-placement=top title="Poker game from GEMINI">Next Post &rarr;</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"></ul><p class="credits copyright text-muted">&nbsp;&bull;&nbsp;&copy;
2025
&nbsp;&bull;&nbsp;
<a href=https://soab.github.io/>SoaB</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.146.5</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://code.jquery.com/jquery-3.7.0.slim.min.js integrity=sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script><script src=https://soab.github.io/js/main.js></script><script src=https://soab.github.io/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://soab.github.io/js/load-photoswipe.js></script></body></html>