<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Raylib - 札記</title>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"SoaB","url":"https:\/\/soab.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/soab.github.io\/"}</script><meta property="og:title" content="Raylib"><meta property="og:image" content="https://soab.github.io/images/avatar.png"><meta property="og:url" content="https://soab.github.io/tags/raylib/"><meta property="og:type" content="website"><meta property="og:site_name" content="SoaB"><meta name=twitter:title content="Raylib"><meta name=twitter:image content="https://soab.github.io/images/avatar.png"><meta name=twitter:card content="summary_large_image"><link href=https://soab.github.io/img/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.144.2"><link rel=alternate href=https://soab.github.io/index.xml type=application/rss+xml title=SoaB><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.6.0/css/all.css integrity=sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><link rel=stylesheet href=https://soab.github.io/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://soab.github.io/css/highlight.min.css><link rel=stylesheet href=https://soab.github.io/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://soab.github.io/>SoaB</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Blog href=/>Blog</a></li><li><a title=Archives href=/archives/>Archives</a></li><li><a title=About href=/page/about/>About</a></li><li><a title=Tags href=/tags>Tags</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title=SoaB href=https://soab.github.io/><img class=avatar-img src=https://soab.github.io/images/avatar.png alt=SoaB></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=tags-heading><h1>Raylib</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-list><article class=post-preview><a href=https://soab.github.io/posts/2025-02-23/><h2 class=post-title>Code - Pong Game</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on February 23, 2025
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;6&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1104&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;SoaB</span></p><div class=post-entry><h1 id=a-simple-game-with-raylib>a simple game with raylib</h1><p>為什麼會有這個東東呢?
因為想要知道ai的註解是否好用，不想寫註解的人有福了，找ai就對了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;raylib.h&#34;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdlib.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 螢幕寬度常數
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> screenWidth <span style=color:#f92672>=</span> <span style=color:#ae81ff>800</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// 螢幕高度常數
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> screenHeight <span style=color:#f92672>=</span> <span style=color:#ae81ff>600</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球拍移動方向列舉
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>    UP, <span style=color:#75715e>// 向上
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    DOWN, <span style=color:#75715e>// 向下
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} Dir;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Clamp 函式：限制浮點數值在指定範圍內
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>Clamp</span>(<span style=color:#66d9ef>float</span> value, <span style=color:#66d9ef>float</span> min, <span style=color:#66d9ef>float</span> max)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> result <span style=color:#f92672>=</span> (value <span style=color:#f92672>&lt;</span> min) <span style=color:#f92672>?</span> min : value; <span style=color:#75715e>// 若 value 小於 min，則結果為 min
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (result <span style=color:#f92672>&gt;</span> max) <span style=color:#75715e>// 若結果大於 max，則結果為 max
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        result <span style=color:#f92672>=</span> max;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球體結構定義
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> Ball {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> x, y; <span style=color:#75715e>// 球心 X, Y 座標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> speedx, speedy; <span style=color:#75715e>// 球在 X, Y 軸的速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> radius; <span style=color:#75715e>// 球的半徑
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>draw)(<span style=color:#66d9ef>struct</span> Ball<span style=color:#f92672>*</span>); <span style=color:#75715e>// 繪製球的函式指標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>update)(<span style=color:#66d9ef>struct</span> Ball<span style=color:#f92672>*</span>); <span style=color:#75715e>// 更新球狀態的函式指標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} Ball;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球體繪製函式 (畫圓)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>ball_drawCircle</span>(Ball<span style=color:#f92672>*</span> b)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DrawCircle</span>((<span style=color:#66d9ef>int</span>)b<span style=color:#f92672>-&gt;</span>x, (<span style=color:#66d9ef>int</span>)b<span style=color:#f92672>-&gt;</span>y, b<span style=color:#f92672>-&gt;</span>radius, WHITE); <span style=color:#75715e>// 使用 raylib 繪製白色圓形
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球體更新函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>ball_update</span>(Ball<span style=color:#f92672>*</span> b)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 更新球的位置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    b<span style=color:#f92672>-&gt;</span>x <span style=color:#f92672>+=</span> b<span style=color:#f92672>-&gt;</span>speedx <span style=color:#f92672>*</span> <span style=color:#a6e22e>GetFrameTime</span>(); <span style=color:#75715e>// X 軸位置根據速度和幀時間更新
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    b<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>+=</span> b<span style=color:#f92672>-&gt;</span>speedy <span style=color:#f92672>*</span> <span style=color:#a6e22e>GetFrameTime</span>(); <span style=color:#75715e>// Y 軸位置根據速度和幀時間更新
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* 邊界碰撞檢測 */</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 上下邊界反彈
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (b<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) { <span style=color:#75715e>// 若球超出上邊界
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        b<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#75715e>// 將球 Y 座標設為邊界位置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        b<span style=color:#f92672>-&gt;</span>speedy <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#75715e>// Y 軸速度反向 (反彈)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (b<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>&gt;</span> screenHeight) { <span style=color:#75715e>// 若球超出下邊界
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        b<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>=</span> screenHeight; <span style=color:#75715e>// 將球 Y 座標設為邊界位置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        b<span style=color:#f92672>-&gt;</span>speedy <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#75715e>// Y 軸速度反向 (反彈)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 左右邊界碰撞在 Update 函式中不處理，輸贏判斷在 Update 函式中處理
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球體建立函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Ball <span style=color:#a6e22e>CreateBall</span>(<span style=color:#66d9ef>float</span> x, <span style=color:#66d9ef>float</span> y, <span style=color:#66d9ef>float</span> speedx, <span style=color:#66d9ef>float</span> speedy, <span style=color:#66d9ef>float</span> radius)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 使用複合字面值初始化 Ball 結構體
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> (Ball) {
</span></span><span style=display:flex><span>        .x <span style=color:#f92672>=</span> x, <span style=color:#75715e>// 初始化 X 座標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .y <span style=color:#f92672>=</span> y, <span style=color:#75715e>// 初始化 Y 座標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .speedx <span style=color:#f92672>=</span> speedx, <span style=color:#75715e>// 初始化 X 軸速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .speedy <span style=color:#f92672>=</span> speedy, <span style=color:#75715e>// 初始化 Y 軸速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .radius <span style=color:#f92672>=</span> radius, <span style=color:#75715e>// 初始化半徑
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .draw <span style=color:#f92672>=</span> ball_drawCircle, <span style=color:#75715e>// 設定繪製函式為 ball_drawCircle
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .update <span style=color:#f92672>=</span> ball_update, <span style=color:#75715e>// 設定更新函式為 ball_update
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球拍結構定義
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> Paddle {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> x, y; <span style=color:#75715e>// 球拍中心 X, Y 座標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> speed; <span style=color:#75715e>// 球拍移動速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> width, height; <span style=color:#75715e>// 球拍寬度和高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Rectangle</span> (<span style=color:#f92672>*</span>getRect)(<span style=color:#66d9ef>struct</span> Paddle<span style=color:#f92672>*</span>); <span style=color:#75715e>// 取得球拍矩形範圍的函式指標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>draw)(<span style=color:#66d9ef>struct</span> Paddle<span style=color:#f92672>*</span>); <span style=color:#75715e>// 繪製球拍的函式指標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>void</span> (<span style=color:#f92672>*</span>update)(<span style=color:#66d9ef>struct</span> Paddle<span style=color:#f92672>*</span>, Dir); <span style=color:#75715e>// 更新球拍狀態的函式指標，Dir 參數表示移動方向
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} Paddle;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 取得球拍矩形範圍函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Rectangle <span style=color:#a6e22e>paddle_GetRect</span>(<span style=color:#66d9ef>struct</span> Paddle<span style=color:#f92672>*</span> p)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 計算球拍的 Rectangle 結構，用於碰撞檢測和繪製
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> (Rectangle) {
</span></span><span style=display:flex><span>        p<span style=color:#f92672>-&gt;</span>x <span style=color:#f92672>-</span> p<span style=color:#f92672>-&gt;</span>width <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#75715e>// 左上角 X 座標 (中心 X 減去寬度一半)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>-</span> p<span style=color:#f92672>-&gt;</span>height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#75715e>// 左上角 Y 座標 (中心 Y 減去高度一半)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p<span style=color:#f92672>-&gt;</span>width, <span style=color:#75715e>// 寬度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p<span style=color:#f92672>-&gt;</span>height <span style=color:#75715e>// 高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球拍繪製函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>paddle_draw</span>(<span style=color:#66d9ef>struct</span> Paddle<span style=color:#f92672>*</span> p)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DrawRectangleRec</span>(p<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getRect</span>(p), WHITE); <span style=color:#75715e>// 使用 raylib 繪製白色矩形，使用 getRect 取得矩形範圍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球拍更新函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>paddle_update</span>(<span style=color:#66d9ef>struct</span> Paddle<span style=color:#f92672>*</span> p, Dir d)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>switch</span> (d) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> UP: <span style=color:#75715e>// 向上移動
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>-=</span> p<span style=color:#f92672>-&gt;</span>speed <span style=color:#f92672>*</span> <span style=color:#a6e22e>GetFrameTime</span>(); <span style=color:#75715e>// Y 座標減去速度 (向上移動)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>=</span> <span style=color:#a6e22e>Clamp</span>(p<span style=color:#f92672>-&gt;</span>y, p<span style=color:#f92672>-&gt;</span>height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, screenHeight <span style=color:#f92672>-</span> p<span style=color:#f92672>-&gt;</span>height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>); <span style=color:#75715e>// 限制球拍 Y 座標在螢幕上下邊界內
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> DOWN: <span style=color:#75715e>// 向下移動
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>+=</span> p<span style=color:#f92672>-&gt;</span>speed <span style=color:#f92672>*</span> <span style=color:#a6e22e>GetFrameTime</span>(); <span style=color:#75715e>// Y 座標加上速度 (向下移動)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p<span style=color:#f92672>-&gt;</span>y <span style=color:#f92672>=</span> <span style=color:#a6e22e>Clamp</span>(p<span style=color:#f92672>-&gt;</span>y, p<span style=color:#f92672>-&gt;</span>height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, screenHeight <span style=color:#f92672>-</span> p<span style=color:#f92672>-&gt;</span>height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>); <span style=color:#75715e>// 限制球拍 Y 座標在螢幕上下邊界內 (修正：原程式碼 `DOWN` 缺少 Clamp)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 球拍建立函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Paddle <span style=color:#a6e22e>CreatePaddle</span>(<span style=color:#66d9ef>float</span> x, <span style=color:#66d9ef>float</span> y, <span style=color:#66d9ef>float</span> w, <span style=color:#66d9ef>float</span> h, <span style=color:#66d9ef>float</span> speed)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 使用複合字面值初始化 Paddle 結構體
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> (Paddle) {
</span></span><span style=display:flex><span>        .x <span style=color:#f92672>=</span> x, <span style=color:#75715e>// 初始化 X 座標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .y <span style=color:#f92672>=</span> y, <span style=color:#75715e>// 初始化 Y 座標
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .width <span style=color:#f92672>=</span> w, <span style=color:#75715e>// 初始化寬度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .height <span style=color:#f92672>=</span> h, <span style=color:#75715e>// 初始化高度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .speed <span style=color:#f92672>=</span> speed, <span style=color:#75715e>// 初始化速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .getRect <span style=color:#f92672>=</span> paddle_GetRect, <span style=color:#75715e>// 設定取得矩形範圍函式為 paddle_GetRect
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .draw <span style=color:#f92672>=</span> paddle_draw, <span style=color:#75715e>// 設定繪製函式為 paddle_draw
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .update <span style=color:#f92672>=</span> paddle_update, <span style=color:#75715e>// 設定更新函式為 paddle_update
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 遊戲結構體，包含球和兩個球拍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> Game {
</span></span><span style=display:flex><span>    Ball ball; <span style=color:#75715e>// 球
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Paddle Player; <span style=color:#75715e>// 玩家球拍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Paddle ai; <span style=color:#75715e>// AI 球拍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} Game;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Game game <span style=color:#f92672>=</span> {}; <span style=color:#75715e>// 宣告一個 Game 型別的變數 game 並初始化 (全域變數)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 更新遊戲狀態函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>Update</span>(Game<span style=color:#f92672>*</span> game)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    game<span style=color:#f92672>-&gt;</span>ball.<span style=color:#a6e22e>update</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>ball); <span style=color:#75715e>// 更新球的狀態
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* 玩家控制 */</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 左球拍控制 (W/S鍵)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>IsKeyDown</span>(KEY_W))
</span></span><span style=display:flex><span>        game<span style=color:#f92672>-&gt;</span>Player.<span style=color:#a6e22e>update</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>Player, UP); <span style=color:#75715e>// 按下 W 鍵，玩家球拍向上移動
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>IsKeyDown</span>(KEY_S))
</span></span><span style=display:flex><span>        game<span style=color:#f92672>-&gt;</span>Player.<span style=color:#a6e22e>update</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>Player, DOWN); <span style=color:#75715e>// 按下 S 鍵，玩家球拍向下移動
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* AI控制 */</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 只在球向右移動時反應 (speedx &gt; 0)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (game<span style=color:#f92672>-&gt;</span>ball.speedx <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 計算球和 AI 球拍的中心 Y 位置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>float</span> ballCenterY <span style=color:#f92672>=</span> game<span style=color:#f92672>-&gt;</span>ball.y;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>float</span> paddleCenterY <span style=color:#f92672>=</span> game<span style=color:#f92672>-&gt;</span>ai.y;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 根據位置調整 AI 球拍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (ballCenterY <span style=color:#f92672>&lt;</span> paddleCenterY) { <span style=color:#75715e>// 球在 AI 球拍上方
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            game<span style=color:#f92672>-&gt;</span>ai.y <span style=color:#f92672>-=</span> game<span style=color:#f92672>-&gt;</span>ai.speed <span style=color:#f92672>*</span> <span style=color:#a6e22e>GetFrameTime</span>(); <span style=color:#75715e>// AI 球拍向上移動
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (ballCenterY <span style=color:#f92672>&gt;</span> paddleCenterY) { <span style=color:#75715e>// 球在 AI 球拍下方
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            game<span style=color:#f92672>-&gt;</span>ai.y <span style=color:#f92672>+=</span> game<span style=color:#f92672>-&gt;</span>ai.speed <span style=color:#f92672>*</span> <span style=color:#a6e22e>GetFrameTime</span>(); <span style=color:#75715e>// AI 球拍向下移動
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>        game<span style=color:#f92672>-&gt;</span>ai.y <span style=color:#f92672>=</span> <span style=color:#a6e22e>Clamp</span>(game<span style=color:#f92672>-&gt;</span>ai.y, game<span style=color:#f92672>-&gt;</span>ai.height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, screenHeight <span style=color:#f92672>-</span> game<span style=color:#f92672>-&gt;</span>ai.height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>); <span style=color:#75715e>// 限制 AI 球拍 Y 座標在螢幕上下邊界內 (新增 AI 球拍邊界限制)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* 碰撞檢測 */</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 左球拍 (玩家) 碰撞
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>CheckCollisionCircleRec</span>((Vector2) { game<span style=color:#f92672>-&gt;</span>ball.x, game<span style=color:#f92672>-&gt;</span>ball.y }, game<span style=color:#f92672>-&gt;</span>ball.radius, game<span style=color:#f92672>-&gt;</span>Player.<span style=color:#a6e22e>getRect</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>Player))) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (game<span style=color:#f92672>-&gt;</span>ball.speedx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) { <span style=color:#75715e>// 只處理球向左移動時與左球拍的碰撞
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            game<span style=color:#f92672>-&gt;</span>ball.speedx <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1.1f</span>; <span style=color:#75715e>// X 軸速度反向並稍微加速 (1.1 倍)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#75715e>// 根據碰撞位置調整 Y 軸速度，模擬旋轉效果
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            game<span style=color:#f92672>-&gt;</span>ball.speedy <span style=color:#f92672>=</span> (game<span style=color:#f92672>-&gt;</span>ball.y <span style=color:#f92672>-</span> game<span style=color:#f92672>-&gt;</span>Player.y) <span style=color:#f92672>/</span> (game<span style=color:#f92672>-&gt;</span>Player.height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> game<span style=color:#f92672>-&gt;</span>ball.speedx;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 右球拍 (AI) 碰撞
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>CheckCollisionCircleRec</span>((Vector2) { game<span style=color:#f92672>-&gt;</span>ball.x, game<span style=color:#f92672>-&gt;</span>ball.y }, game<span style=color:#f92672>-&gt;</span>ball.radius, game<span style=color:#f92672>-&gt;</span>ai.<span style=color:#a6e22e>getRect</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>ai))) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (game<span style=color:#f92672>-&gt;</span>ball.speedx <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) { <span style=color:#75715e>// 只處理球向右移動時與右球拍的碰撞
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            game<span style=color:#f92672>-&gt;</span>ball.speedx <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1.1f</span>; <span style=color:#75715e>// X 軸速度反向並稍微加速 (1.1 倍)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#75715e>// 根據碰撞位置調整 Y 軸速度，模擬旋轉效果
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            game<span style=color:#f92672>-&gt;</span>ball.speedy <span style=color:#f92672>=</span> (game<span style=color:#f92672>-&gt;</span>ball.y <span style=color:#f92672>-</span> game<span style=color:#f92672>-&gt;</span>ai.y) <span style=color:#f92672>/</span> (game<span style=color:#f92672>-&gt;</span>ai.height <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#f92672>-</span>game<span style=color:#f92672>-&gt;</span>ball.speedx; <span style=color:#75715e>// 注意 AI 球拍的 Y 軸速度方向相反
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> winnerText <span style=color:#f92672>=</span> NULL; <span style=color:#75715e>// 勝利訊息，預設為 NULL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* 勝利條件檢測 */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (game<span style=color:#f92672>-&gt;</span>ball.x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#75715e>// 球超出左邊界，AI 獲勝
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        winnerText <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AI Wins!&#34;</span>; <span style=color:#75715e>// 設定 AI 獲勝訊息
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (game<span style=color:#f92672>-&gt;</span>ball.x <span style=color:#f92672>&gt;</span> screenWidth) <span style=color:#75715e>// 球超出右邊界，玩家獲勝
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        winnerText <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Player Wins!&#34;</span>; <span style=color:#75715e>// 設定玩家獲勝訊息
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* 遊戲重置 */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (winnerText <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>IsKeyPressed</span>(KEY_SPACE)) { <span style=color:#75715e>// 若有勝利者且按下空白鍵
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 重置球的位置和速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        game<span style=color:#f92672>-&gt;</span>ball <span style=color:#f92672>=</span> <span style=color:#a6e22e>CreateBall</span>(screenWidth <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, screenHeight <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>5</span>); <span style=color:#75715e>// 將球放回螢幕中心，恢復初始速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 隨機化球的初始 X 軸速度方向 (改進：讓遊戲開始時球的方向更隨機)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>GetRandomValue</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>            game<span style=color:#f92672>-&gt;</span>ball.speedx <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#75715e>// 50% 機率反轉 X 軸速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>        winnerText <span style=color:#f92672>=</span> NULL; <span style=color:#75715e>// 清除勝利訊息，準備開始新局
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> winnerText; <span style=color:#75715e>// 返回勝利訊息 (若有，否則返回 NULL)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 繪製遊戲畫面函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>Draw</span>(Game<span style=color:#f92672>*</span> game)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    game<span style=color:#f92672>-&gt;</span>ball.<span style=color:#a6e22e>draw</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>ball);    <span style=color:#75715e>// 繪製球
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    game<span style=color:#f92672>-&gt;</span>Player.<span style=color:#a6e22e>draw</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>Player); <span style=color:#75715e>// 繪製玩家球拍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    game<span style=color:#f92672>-&gt;</span>ai.<span style=color:#a6e22e>draw</span>(<span style=color:#f92672>&amp;</span>game<span style=color:#f92672>-&gt;</span>ai);        <span style=color:#75715e>// 繪製 AI 球拍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 主函式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 初始化視窗
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>InitWindow</span>(screenWidth, screenHeight, <span style=color:#e6db74>&#34;Pong-Game -- Ethical Aniruddha&#34;</span>); <span style=color:#75715e>// 建立視窗，設定寬高和標題
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>SetWindowState</span>(FLAG_VSYNC_HINT); <span style=color:#75715e>// 啟用垂直同步 (建議啟用，減少畫面撕裂)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 初始化遊戲物件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    game.ball <span style=color:#f92672>=</span> <span style=color:#a6e22e>CreateBall</span>(
</span></span><span style=display:flex><span>        screenWidth <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,     <span style=color:#75715e>// 初始 X 位置 (螢幕中心)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        screenHeight <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,    <span style=color:#75715e>// 初始 Y 位置 (螢幕中心)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>5</span>         <span style=color:#75715e>// 初始 X 軸速度, 初始 Y 軸速度, 半徑
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    );
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 隨機化球的初始 X 軸速度方向 (改進：讓遊戲開始時球的方向更隨機)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>GetRandomValue</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>        game.ball.speedx <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#75715e>// 50% 機率反轉 X 軸速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    game.Player <span style=color:#f92672>=</span> <span style=color:#a6e22e>CreatePaddle</span>(
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>50</span>, screenHeight <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#75715e>// X 位置 (靠近左邊界), Y 位置 (螢幕垂直中心)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>500</span>         <span style=color:#75715e>// 寬度, 高度, 速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    );
</span></span><span style=display:flex><span>    game.ai <span style=color:#f92672>=</span> <span style=color:#a6e22e>CreatePaddle</span>(
</span></span><span style=display:flex><span>        screenWidth <span style=color:#f92672>-</span> <span style=color:#ae81ff>50</span>, screenHeight <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#75715e>// X 位置 (靠近右邊界), Y 位置 (螢幕垂直中心)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>500</span>         <span style=color:#75715e>// 寬度, 高度, 速度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> winnerText <span style=color:#f92672>=</span> NULL; <span style=color:#75715e>// 宣告勝利訊息指標，初始為 NULL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 主遊戲迴圈
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>WindowShouldClose</span>()) { <span style=color:#75715e>// 視窗未關閉時持續執行迴圈
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        winnerText <span style=color:#f92672>=</span> <span style=color:#a6e22e>Update</span>(<span style=color:#f92672>&amp;</span>game); <span style=color:#75715e>// 更新遊戲狀態，並取得勝利訊息 (若有)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>BeginDrawing</span>();           <span style=color:#75715e>// 開始繪製畫面
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>ClearBackground</span>(BLACK);    <span style=color:#75715e>// 清除背景為黑色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 繪製所有遊戲物件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>Draw</span>(<span style=color:#f92672>&amp;</span>game);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 顯示勝利訊息 (若有)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (winnerText) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> textWidth <span style=color:#f92672>=</span> <span style=color:#a6e22e>MeasureText</span>(winnerText, <span style=color:#ae81ff>60</span>); <span style=color:#75715e>// 計算勝利訊息文字寬度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>DrawText</span>(winnerText,                               <span style=color:#75715e>// 繪製文字
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                screenWidth <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> textWidth <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,           <span style=color:#75715e>// X 座標置中
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                screenHeight <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>30</span>,                      <span style=color:#75715e>// Y 座標略為偏上
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#ae81ff>60</span>, YELLOW);                                <span style=color:#75715e>// 字體大小 60，顏色黃色
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DrawFPS</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>); <span style=color:#75715e>// 顯示 FPS (幀率) 在左上角
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>EndDrawing</span>();             <span style=color:#75715e>// 結束繪製，將畫面送出顯示
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CloseWindow</span>(); <span style=color:#75715e>// 關閉視窗並釋放資源
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;      <span style=color:#75715e>// 程式結束
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></div><div class=blog-tags><a href=https://soab.github.io/tags/c/>c</a>&nbsp;
<a href=https://soab.github.io/tags/raylib/>raylib</a>&nbsp;
<a href=https://soab.github.io/tags/program/>program</a>&nbsp;</div></article><article class=post-preview><a href=https://soab.github.io/posts/2025-01-24/><h2 class=post-title>Code - Line effect</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on January 24, 2025
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;2&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;418&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;SoaB</span></p><div class=post-entry><h1 id=line-effect>Line Effect</h1><p>Learning Zig programming language &mldr;</p><p>Line effect for learning zig&rsquo;s struct random and raylib implementation ect.
<a href=https://github.com/SoaB/soab.github.io><img src=/images/screenline.gif alt=o_O></a></p><a href=https://soab.github.io/posts/2025-01-24/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://soab.github.io/tags/zig/>zig</a>&nbsp;
<a href=https://soab.github.io/tags/raylib/>raylib</a>&nbsp;
<a href=https://soab.github.io/tags/program/>program</a>&nbsp;</div></article><article class=post-preview><a href=https://soab.github.io/posts/2022-05-02-liss/><h2 class=post-title>Code - Lissajous</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on May 2, 2022
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;2&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;306&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;SoaB</span></p><div class=post-entry><h1 id=lissajous-figure>Lissajous figure</h1><p>數學上，利薩茹曲線是兩個沿著互相垂直方向的正弦振動的合成的軌跡。</p><p><img src=images/lissajous.gif alt=O_o></p><a href=https://soab.github.io/posts/2022-05-02-liss/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://soab.github.io/tags/c/>c</a>&nbsp;
<a href=https://soab.github.io/tags/program/>program</a>&nbsp;
<a href=https://soab.github.io/tags/raylib/>raylib</a>&nbsp;</div></article><article class=post-preview><a href=https://soab.github.io/posts/2022-03-19-speiral/><h2 class=post-title>Code - Speiral</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on March 19, 2022
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;2&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;336&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;SoaB</span></p><div class=post-entry><h1 id=質數>質數</h1><ul><li>質數是上帝用來描寫宇宙的文字…伽俐略語</li></ul><p>質數，又稱為素數，是不能被1和本身以外其他整數整除的整數。如：2,3,5,7,11,13,17是前幾固質數，其中2是唯一的偶質數。</p><h3 id=鳥蘭現象>鳥蘭現象</h3><p>把質數按照反時針方式排列成螺旋形式，會出現擠成一直線的特性。</p><p><img src=images/speiral.gif alt=O_o></p><a href=https://soab.github.io/posts/2022-03-19-speiral/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://soab.github.io/tags/c/>c</a>&nbsp;
<a href=https://soab.github.io/tags/program/>program</a>&nbsp;
<a href=https://soab.github.io/tags/raylib/>raylib</a>&nbsp;</div></article><article class=post-preview><a href=https://soab.github.io/posts/2022-01-09-r8/><h2 class=post-title>Code - R8</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on January 9, 2022
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;2&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;255&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;SoaB</span></p><div class=post-entry><p>Nature of Code 之 8 - Fractals.
Koch Curve &ndash; KochLine
<img src=images/r8.gif alt=O_o></p><a href=https://soab.github.io/posts/2022-01-09-r8/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://soab.github.io/tags/go/>go</a>&nbsp;
<a href=https://soab.github.io/tags/program/>program</a>&nbsp;
<a href=https://soab.github.io/tags/raylib/>raylib</a>&nbsp;</div></article></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=/tags/raylib/index.xml title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">&nbsp;&bull;&nbsp;&copy;
2025
&nbsp;&bull;&nbsp;
<a href=https://soab.github.io/>SoaB</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.144.2</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://code.jquery.com/jquery-3.7.0.slim.min.js integrity=sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script><script src=https://soab.github.io/js/main.js></script><script src=https://soab.github.io/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://soab.github.io/js/load-photoswipe.js></script></body></html>